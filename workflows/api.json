{
  "createdAt": "2025-06-28T02:04:47.274Z",
  "updatedAt": "2025-06-30T20:12:20.000Z",
  "id": "Pz5Zm6DRXho5O32F",
  "name": "api",
  "active": true,
  "nodes": [
    {
      "parameters": {
        "updates": [
          "message"
        ],
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegramTrigger",
      "typeVersion": 1.2,
      "position": [
        -520,
        -120
      ],
      "id": "c62bf0e4-a613-4b62-be05-d2b917af8a07",
      "name": "Telegram Trigger",
      "webhookId": "d7b9dda8-8340-4360-9e69-c929539ac772",
      "credentials": {
        "telegramApi": {
          "id": "03RVBpjbMD77F2XN",
          "name": "Telegram alexabot"
        }
      }
    },
    {
      "parameters": {
        "url": "https://api.restful-api.dev/objects",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -540,
        -320
      ],
      "id": "4d60f77f-568d-47dd-b9b8-96585c095d52",
      "name": "HTTP Request"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.message.text }}",
        "options": {
          "systemMessage": "eres un asistente de administracion de inventario y tu trabajo es agregar productos a un listado de productos pero debes preguntarle al usuario: nombre del producto.\n\nuna ves tengas el nombre usa el tool agregar productos \npara insertar el producto dale gracias al usuario y muestra el listado de productos\ntambien debes poder eliminar productos de la lista para esto debes preguntarle el nombre del producto al usuario que desea eliminar \nuna ves tengas el nombre usa el tool eliminar producto\npara borrar el producto dale gracias al usuario y muestra el listado de productos\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.9,
      "position": [
        -300,
        -120
      ],
      "id": "55c67d68-d50e-4f9e-b1c3-b63c5e4807c5",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        -360,
        80
      ],
      "id": "a4c48229-f4c3-4b38-a96b-cdd60b585ed2",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "kN8CVraho0i9hYUQ",
          "name": "OpenAi account Alexandra Trujillo"
        }
      }
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $json.message.chat.id }}",
        "contextWindowLength": "=5"
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        -220,
        100
      ],
      "id": "79cb1078-686c-47d0-a263-174847d5a016",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
        "text": "={{ $json.output }}",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        140,
        -180
      ],
      "id": "d07206a7-68c7-4b70-960f-0df3e6aa20d2",
      "name": "Telegram",
      "webhookId": "4762fe5d-100b-4d9a-9284-774938ca4000",
      "credentials": {
        "telegramApi": {
          "id": "03RVBpjbMD77F2XN",
          "name": "Telegram alexabot"
        }
      }
    },
    {
      "parameters": {
        "toolDescription": "eres un tool para agregar productos ",
        "method": "POST",
        "url": "https://api.restful-api.dev/objects",
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "name",
              "value": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('parameters0_Value', `el nombre del producto te lo dice el usuario `, 'string') }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequestTool",
      "typeVersion": 4.2,
      "position": [
        60,
        200
      ],
      "id": "84cdf4a0-ab97-46d7-9db8-6988acf67d17",
      "name": "agregar productos"
    },
    {
      "parameters": {
        "toolDescription": "este tool devuelve el listado de productos ejecutalo cuando el usuario quiera saber que productos hay ",
        "url": "https://api.restful-api.dev/objects",
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "name",
              "value": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('parameters0_Value', `el usuario te indicara cual producto eliminar`, 'string') }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequestTool",
      "typeVersion": 4.2,
      "position": [
        -120,
        200
      ],
      "id": "7668b8f2-0274-4849-a94f-6f4cd6c19a61",
      "name": "lista de productos"
    },
    {
      "parameters": {
        "toolDescription": "eres un tool para borrar productos ",
        "method": "DELETE",
        "url": "https://api.restful-api.dev/objects/6",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequestTool",
      "typeVersion": 4.2,
      "position": [
        180,
        80
      ],
      "id": "af3335db-fbe7-4d3e-9674-64fe2845e0a7",
      "name": "borrar producto"
    }
  ],
  "connections": {
    "Telegram Trigger": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "Telegram",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "agregar productos": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "lista de productos": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "borrar producto": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "pinData": {
    "Telegram Trigger": [
      {
        "json": {
          "update_id": 536929073,
          "message": {
            "message_id": 252,
            "from": {
              "id": 7344396579,
              "is_bot": false,
              "first_name": "Alexandra Viridiana",
              "last_name": "Trujillo Rubalcava",
              "username": "alexatr99",
              "language_code": "es"
            },
            "chat": {
              "id": 7344396579,
              "first_name": "Alexandra Viridiana",
              "last_name": "Trujillo Rubalcava",
              "username": "alexatr99",
              "type": "private"
            },
            "date": 1751310118,
            "text": "hola"
          }
        }
      }
    ]
  },
  "versionId": "45337603-0bd6-46e6-9323-eeb9d010fd5d",
  "triggerCount": 1,
  "shared": [
    {
      "createdAt": "2025-06-28T02:04:47.278Z",
      "updatedAt": "2025-06-28T02:04:47.278Z",
      "role": "workflow:owner",
      "workflowId": "Pz5Zm6DRXho5O32F",
      "projectId": "UPXsxNbEdAC5wodw",
      "project": {
        "createdAt": "2025-05-30T21:50:35.802Z",
        "updatedAt": "2025-05-30T21:51:22.504Z",
        "id": "UPXsxNbEdAC5wodw",
        "name": "Alexandra  Trujillo  <alexandra.trujillo@canteradigital.mx>",
        "type": "personal",
        "icon": null,
        "projectRelations": [
          {
            "createdAt": "2025-05-30T21:50:35.804Z",
            "updatedAt": "2025-05-30T21:50:35.804Z",
            "role": "project:personalOwner",
            "userId": "65d58894-4572-495d-8c41-0b8ea4c5b71f",
            "projectId": "UPXsxNbEdAC5wodw",
            "user": {
              "createdAt": "2025-05-30T21:50:35.800Z",
              "updatedAt": "2025-06-12T00:59:16.255Z",
              "id": "65d58894-4572-495d-8c41-0b8ea4c5b71f",
              "email": "alexandra.trujillo@canteradigital.mx",
              "firstName": "Alexandra ",
              "lastName": "Trujillo ",
              "personalizationAnswers": {
                "version": "v4",
                "personalization_survey_submitted_at": "2025-05-30T21:52:04.811Z",
                "personalization_survey_n8n_version": "1.92.2",
                "automationGoalDevops": [
                  "data-syncing",
                  "ticketing-systems-integrations",
                  "ci-cd",
                  "monitoring-alerting",
                  "reporting",
                  "incident-response"
                ],
                "companyType": "systems-integrator",
                "role": "it"
              },
              "settings": {
                "easyAIWorkflowOnboarded": true,
                "firstSuccessfulWorkflowId": "bmdwVJ36IDZozHoU",
                "userActivated": true,
                "userActivatedAt": 1749246625266,
                "npsSurvey": {
                  "responded": true,
                  "lastShownAt": 1749689952085
                }
              },
              "role": "global:member",
              "disabled": false,
              "mfaEnabled": false,
              "isPending": false,
              "isOwner": false
            }
          }
        ]
      }
    }
  ],
  "tags": []
}